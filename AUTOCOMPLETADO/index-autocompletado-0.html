<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>EjERCICIO AJAX PHP</title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css" />

</head>
<script>

    document.addEventListener("DOMContentLoaded", function () {

        var nombre = document.querySelectorAll("input")[0];
        var resultado = document.getElementById("resultado");


        nombre.addEventListener("keyup", function () {

            var xhr = new XMLHttpRequest();

            xhr.onreadystatechange = function () {

                if (this.readyState == 4 && this.status == 200) {
                    
                    resultado.innerHTML=this.responseText;
                  
                }

            };

            // Open and send the request 
            xhr.open("POST", "datos.php", true);
            xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
            xhr.send(`q=${nombre.value}`);


        }, false);



    }, false);


</script>

<body>
    <div class="container">
        <header class="text-center">
            <h1>Ejercicio propuesto 3</h1>
            <hr />
            <p class="lead">Autocompletado de un campo</p>
        </header>
        <div class="col-lg-6" style="margin-bottom:50px;">
            <form class="form">
                Buscar por nombre: <input type="text">
            </form>
            <br />
            <br />
            <b>Resultados</b>
            <br />
            <br />
            <span id="resultado"></span>
        </div>
        <footer class="col-lg-12 text-center">
            EJERCICIO DE AUTOCOMPLETADO CON AJAX
        </footer>
    </div>
</body>

</html>